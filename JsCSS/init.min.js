const req=require("request"),{remote:remote,ipcRenderer:ipcRenderer,shell:shell}=require("electron"),{dialog:dialog,BrowserWindow:BrowserWindow,Menu:Menu,MenuItem:MenuItem,app:app}=remote;var undoStack=[],redoStack=[],editorWindow,viewer=[,,],recentLocation="",recentFiles=[],show=!1,saved=!0,compFName;function versionCheck(){var today,today;(today=(today=new Date).getDate()+""+today.getMonth())!=JSON.parse(localStorage.getItem("today"))&&(localStorage.setItem("today",JSON.stringify(today)),req({url:"https://api.github.com/repos/Koushikphy/Interactive-Data-Editor/releases/latest",headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1521.3 Safari/537.36});"}},function(_,_,body){var new_ver=JSON.parse(body).name;if(console.log(new_ver),"v2.3.0"!=new_ver){var txt=`A new version of the software ${new_ver} is available.\n Do you wnat to downlod it now?`,res;dialog.showMessageBox({type:"question",title:"Update available!!!",message:txt,buttons:["OK","Cancel"]})||shell.openExternal("https://github.com/Koushikphy/Interactive-Data-Editor/releases")}}))}function replaceWithHome(name){var home=process.env.HOME||process.env.USERPROFILE;return name.includes(home)?name.replace(home,"~"):name}function recentMenu(){var rrf=menu.getMenuItemById("rf").submenu;rrf.clear();for(let i=recentFiles.length-1;i>=0;i--){var fln,item={label:replaceWithHome(recentFiles[i].slice()),click(){ipcRenderer.send("rf",recentFiles[i])}};rrf.append(new MenuItem(item))}localStorage.setItem("files",JSON.stringify(recentFiles))}var menu=Menu.getApplicationMenu(),fl,fl;versionCheck(),null!==(fl=JSON.parse(localStorage.getItem("files")))&&(recentFiles=fl,recentMenu()),null!==(fl=JSON.parse(localStorage.getItem("recent")))&&(recentLocation=fl);