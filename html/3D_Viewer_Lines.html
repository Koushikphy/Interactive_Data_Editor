<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Interactive Data Editor</title>
    <link href="../lib/style.min.css" rel="stylesheet" />
    <script>
        if (typeof module === 'object') { window.module = module; module = undefined; }
    </script>
    <script src="../lib/jquery.min.js"></script>
</head>

<body>
    <div class="basediv" id="figurecontainer"></div>
    <div class="floatdiv">
        <div id="status"><i><b>Waiting to get Update...</b><br />Any changes made in the 3D_Editor will be updated here
                on real time.</i></div>
        <form><input id="is_mark" onclick="mark_clicked(this)" type="checkbox" /> Markers </form>
        <div class="borders">
            Axes Ranges â‡’
            X : <input onchange="setXYRange(this.value,0)" type="text" id='xInp' />
            Y : <input onchange="setXYRange(this.value,1)" type="text" id='yInp' />
            Z : <input onchange="setZRange(this.value)" type="text" id='zInp' />
        </div>
    </div>
    <script src="../lib/viewer.min.js"></script>
    <script>
        var xxx = [], yyy = [], zzz = [], check = true;
        Plotly.newPlot(figurecontainer, initData(1), layout, { displaylogo: false });

        function mark_clicked(mark) {
            if (mark.checked) {
                Plotly.restyle(figurecontainer, {
                    'mode': "markers+lines"
                });
            } else {
                Plotly.restyle(figurecontainer, {
                    'mode': "lines"
                });
            };
        };


        function updatePlot() {
            makeRotation();
            xxx = data[0].concat(xxx),
            yyy = data[1].concat(yyy),
            zzz = data[2].concat(zzz);
            if (figurecontainer.data.length != xxx.length) {
                Plotly.newPlot(figurecontainer, initData(xxx.length), layout);
            };
            if (swapped) {
                Plotly.restyle(figurecontainer, { 'y': xxx, 'x': yyy, 'z': zzz });
            } else {
                Plotly.restyle(figurecontainer, { 'x': xxx, 'y': yyy, 'z': zzz });
            }
            $("#status").html("<b>Plot Updated on:</b><i> " + new Date().toLocaleString() + "</i>");
        };
    </script>
</body>

</html>