const req=require("request"),{remote:remote,ipcRenderer:ipcRenderer,shell:shell}=require("electron"),{dialog:dialog,BrowserWindow:BrowserWindow,Menu:Menu,MenuItem:MenuItem,app:app}=remote;var recentLocation,recentFiles=[];function versionCheck(){var e;(e=(e=new Date).getDate()+""+e.getMonth())!=JSON.parse(localStorage.getItem("today"))&&(localStorage.setItem("today",JSON.stringify(e)),req({url:"https://api.github.com/repos/Koushikphy/Interactive-Data-Editor/releases/latest",headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1521.3 Safari/537.36});"}},function(e,e,t){var r=JSON.parse(t).name;if(console.log(r),"v2.3.0"!=r){var n=`A new version of the software ${r} is available.\n Do you wnat to downlod it now?`;dialog.showMessageBox({type:"question",title:"Update available!!!",message:n,buttons:["OK","Cancel"]})||shell.openExternal("https://github.com/Koushikphy/Interactive-Data-Editor/releases")}}))}function replaceWithHome(e){var t=process.env.HOME||process.env.USERPROFILE;return e.includes(t)?e.replace(t,"~"):e}function recentMenu(){var e=menu.getMenuItemById("rf").submenu;e.clear();for(let r=recentFiles.length-1;r>=0;r--){var t={label:replaceWithHome(recentFiles[r].slice()),click(){ipcRenderer.send("rf",recentFiles[r])}};e.append(new MenuItem(t))}localStorage.setItem("files",JSON.stringify(recentFiles))}const particlesJS=require("particles.js");window.particlesJS.load("particle","../particles.json");var fl,menu=Menu.getApplicationMenu();"production"!=process.env.NODE_ENV&&versionCheck(),null!==(fl=JSON.parse(localStorage.getItem("files")))&&(recentFiles=fl,recentMenu()),null!==(fl=JSON.parse(localStorage.getItem("recent")))&&(recentLocation=fl);