require("v8-compile-cache");const{remote:remote,ipcRenderer:ipcRenderer,shell:shell}=require("electron"),{dialog:dialog,BrowserWindow:BrowserWindow,Menu:Menu,MenuItem:MenuItem,app:app}=remote;var recentLocation,recentFiles=[];function versionCheck(){require("request")({url:"https://api.github.com/repos/Koushikphy/Interactive-Data-Editor/releases/latest",headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1521.3 Safari/537.36});"}},function(e,e,r){var t=JSON.parse(r).name;if(t!=`v${require("../package.json").version}`){var n=`A new version of the software ${t} is available.\n Do you want to download it now?`;dialog.showMessageBoxSync({type:"question",title:"Update available!!!",message:n,buttons:["OK","Cancel"]})||shell.openExternal("https://koushikphy.github.io/ide/#download--installation")}})}function replaceWithHome(e){var r=process.env.HOME||process.env.USERPROFILE;return e.includes(r)?e.replace(r,"~"):e}function recentMenu(){var e=menu.getMenuItemById("rf").submenu,r=menu.getMenuItemById("arf").submenu;recentFiles.length>10&&recentFiles.splice(0,1),e.clear(),r.clear();for(let o=recentFiles.length-1;o>=0;o--){var t=replaceWithHome(recentFiles[o].slice()),n={label:t,click(){ipcRenderer.send("rf",recentFiles[o])}},l={label:t,click(){ipcRenderer.send("adrf",recentFiles[o])}};e.append(new MenuItem(n)),r.append(new MenuItem(l))}localStorage.setItem("files",JSON.stringify(recentFiles))}var fl,menu=Menu.getApplicationMenu();if(null!==(fl=JSON.parse(localStorage.getItem("files")))&&(recentFiles=fl,recentMenu()),null!==(fl=JSON.parse(localStorage.getItem("recent")))&&(recentLocation=fl),app.isPackaged)if(versionCheck(),remote.process.argv.length>1)window.onload=function(){let e=path.resolve(process.cwd(),remote.process.argv[1]);fileReader(e)};else{require("particles.js");window.particlesJS.load("particle","../lib/particles.json")}else document.getElementById("branding").remove(),document.getElementById("particle").remove(),document.getElementById("full").style.display="block",remote.process.argv.length>2&&(window.onload=function(){let e=path.resolve(process.cwd(),remote.process.argv[2]);fileReader(e)});