<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Interactive Data Editor</title>
<link href="../JsCSS/style.css" rel="stylesheet"/>
<script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
<script src="../JsCSS/plotly-latest.min.js"></script>
<script src="../JsCSS/jquery.min.js"></script>
</head>
<body>
<header>
        An interactive 2D and 3D data swapper
    </header>
<div class="row">
<input type="submit" value="Choose File" onclick="fileLoader();">
<label id="file_name1" style="display: inline-block;width: 10pc;"> No File Choosen.</label>
<div id="status">Load Data to plot. </div>
<!-- <div style="float:right;">View the 3D plot as: <a href="javascript:void(0)" onclick="openViewer(0);"> Wireframe </a> or <a href="javascript:void(0)" onclick="openViewer(1);">Surface </a> &ensp;</div> -->
<div style="float: right;"> Open the <a href="javascript:void(0)" onclick="editor();">Spreadsheet Editor </a>&ensp;</div>
</div>



<div class="row" id="iswap" style="padding-top: 3px">➧Plot along
        <select autocomplete="off" onchange="isswap(this)" style="width:3pc;">
<option>Y</option>
<option>X</option>
</select> <label id="dummy2">for a particular X.</label>
<!-- <div style="float: right;" class= "3D"> Open the <a href="javascript:void(0)" onclick="editor();">Spreadsheet Editor </a>&ensp;</div> -->

</div>

<div onchange="updateData();">
<p style="padding-top: 5px; float: left;"></p>
        X Column :<select id="xCol"></select>  
        Y Column :<select id="yCol"></select>
        <span class="2D"><select id="y2Col"></select></span>
</label>
<!-- <div style="float: right;" class="2D"> Open the <a href="javascript:void(0)" onclick="editor();">Spreadsheet Editor </a>&ensp;</div> -->
</div>
<div class="row dummy" style="margin-top: 5px;">
        Z Column <span style="padding-left: 2px"></span>:<select id="z1Col" onchange="col1Changed(this.selectedIndex)"></select> &ensp;
        <!-- Z2 Column <span style="padding-left: 2px"></span>: --><select id="z2Col" onchange="col2Changed(this.selectedIndex)"></select>
</div>
<div class='slidecontainer dummy'>
<p style='float: left'>Drag the slider to change 'X' value:</p>
<input class='slider' id='x_input' max='0' min='0' oninput='sliderChanged()' step='0' type='range' value='0'/>
<p style='display: inline-block'>X</p> : <span id='x_val'> 0 </span>
</div>
<div class="row" id="figurecontainer"></div>
<script src="../JsCSS/funcSwap.js"></script>
<script src="../JsCSS/plotSetupSwap.js"></script>
<script>
    var col ={ x : 0, y:0, z1:0, z2:0};
                $(".2D").hide()



            function updateData() {
            col.x  = xCol.selectedIndex;
            col.y  = yCol.selectedIndex;
            col.z1 = z1Col.selectedIndex;
            col.z2 = z2Col.selectedIndex;
            if(data.length!=1){
                slider.value = th_in= 0;
                slider.max   = data.length-1;
                xVal.innerHTML= data[0][col.x][0];
            }
             else {    //2D
                col.z2 = document.getElementById("y2Col").selectedIndex;
                col.z1 = col.y;
                col.y = col.x;
                col.x = 0;
            };
            updatePlot();

        };


        function thisJobs() {
            if (data.length==1){
                $(".dummy,#iswap").hide();
                serve =0;
                $(".3D").hide()
                $(".2D").show()
                var tmp = $("select:visible");
            } else{
                var tmp = $("select:not(:first-child)");
            }
            var op = "";
            for (var i = 1; i <= data[0].length; i++) {
                op += '<option>' + i + '</option>';
            };
            
            for (var i = 0; i < tmp.length; i++) {
                tmp[i].innerHTML = op;
                tmp[i].selectedIndex = i+1;
            };
            updateData();
        };
    </script>
</body>
</html>